{% load static %}

<div class="w-full max-w-3xl mx-auto p-5 bg-white/20 dark:bg-gray-800 rounded-lg shadow">

  <div class="flex items-start gap-6">
    <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
    <img src="{% static 'profile_pic/default.png' %}" alt="profile" class="w-24 h-24 rounded-lg object-cover">

    <!-- ì˜¤ë¥¸ìª½ ì •ë³´ -->
    <div class="flex-1 text-left">
      <!-- ì‚¬ìš©ì ì´ë¦„ -->
      <h2 class="text-3xl font-semibold text-white">@
      {{ request.user.username }}</h2>

      <!-- íŒ”ë¡œì‰/íŒ”ë¡œì›Œ -->
      <div class="flex gap-6 mt-1">
        <div>
          <p class="text-lg font-bold text-white">{{ playlist_count }}</p>
          <p class="text-gray-200 dark:text-gray-400 text-sm">Playlists</p>
        </div>
        <div>
          <button onclick="openModal('followersModal')" class="text-left">
            <p class="text-lg font-bold text-white hover:underline">12</p>
            <p class="text-gray-200 dark:text-gray-400 text-sm hover:underline">Followers</p>
          </button>
        </div>
        <div>
          <button onclick="openModal('followingModal')" class="text-left">
            <p class="text-lg font-bold text-white hover:underline">12</p>
            <p class="text-gray-200 dark:text-gray-400 text-sm hover:underline">Followings</p>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- ë‚´ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ / ì¢‹ì•„ìš”í•œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ íƒ­ -->
  <div class="mt-6">
    <div class="flex gap-4 mb-4">
      <button onclick="showPLTab('myPL')" class="bg-white/20 text-white px-4 py-2 rounded hover:bg-white/30">ë‚´
        í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</button>
      <button onclick="showPLTab('likedPL')" class="bg-white/20 text-white px-4 py-2 rounded hover:bg-white/30">ì¢‹ì•„ìš”í•œ
        í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</button>
    </div>

    <!-- ë‚´ê°€ ë§Œë“  í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ -->
    <div id="myPL" class="pl-tab">
      <ul class="space-y-2">

        {% for playlist in my_playlists %}
        <li class="bg-gray-200/20 p-3 rounded text-white hover:bg-white/30">
          <a href="{% url 'playlist_detail' playlist_id=playlist.id %}" class="block w-full h-full">
            ğŸµ {{ playlist.title }}
          </a>
        </li>
        {% empty %}
        <li class="text-white">ì•„ì§ ì €ì¥ëœ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
        {% endfor %}

      </ul>
    </div>


   <!-- ì¢‹ì•„ìš”í•œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ -->
<div id="likedPL" class="pl-tab hidden">
  <ul class="space-y-2">
    {% for playlist in liked_playlists %}
      <li class="bg-gray-200/20 p-3 rounded text-white hover:bg-white/30">
        <a href="{% url 'playlist_detail' playlist_id=playlist.id %}" class="block w-full h-full">
          â¤ï¸ {{ playlist.title }}
        </a>
      </li>
    {% empty %}
      <li class="text-white">ì¢‹ì•„ìš”í•œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
    {% endfor %}
  </ul>
</div>


  </div>

<script>
  function showPLTab(tabId) {
    const tabs = document.querySelectorAll('.pl-tab');
    tabs.forEach(tab => tab.classList.add('hidden'));

    const activeTab = document.getElementById(tabId);
    if (activeTab) {
      activeTab.classList.remove('hidden');
    }
  }
</script>

</div>
</div>