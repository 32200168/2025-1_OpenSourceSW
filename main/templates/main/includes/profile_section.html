{% load static %}

<div class="w-full max-w-3xl mx-auto p-5 bg-white/20 dark:bg-gray-800 rounded-lg shadow">

  <div class="flex items-start gap-6">
    <!-- 프로필 이미지 -->
    <img src="{% static 'profile_pic/default.jpg' %}" alt="profile" class="w-24 h-24 rounded-lg object-cover">

    <!-- 오른쪽 정보 -->
    <div class="flex-1 text-left">
      <!-- 사용자 이름 -->
      <h2 class="text-3xl font-semibold text-white">@
        {{ request.user.username }}</h2>

      {% if hashtags %}
      {% for tag in hashtags %}
      <span class="px-3 py-1 text-sm rounded-full bg-white/20 text-white font-medium mr-2 mb-2">
        #{{ tag.name }}
      </span>
      {% endfor %}
      {% else %}
      <span class="text-white text-sm">저장된 취향이 없습니다.</span>
      {% endif %}


      <!-- 팔로잉/팔로워 -->
      <div class="flex gap-6 mt-1">
        <div>
          <p class="text-lg font-bold text-white">{{ playlist_count }}</p>
          <p class="text-gray-200 dark:text-gray-400 text-sm">Playlists</p>
        </div>
        <div>
          <button onclick="openModal('followersModal')" class="text-left">
            <p class="text-lg font-bold text-white hover:underline">12</p>
            <p class="text-gray-200 dark:text-gray-400 text-sm hover:underline">Followers</p>
          </button>
        </div>
        <div>
          <button onclick="openModal('followingModal')" class="text-left">
            <p class="text-lg font-bold text-white hover:underline">12</p>
            <p class="text-gray-200 dark:text-gray-400 text-sm hover:underline">Followings</p>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- 내 플레이리스트 / 좋아요한 플레이리스트 탭 -->
  <div class="mt-6">
    <div class="flex gap-4 mb-4">
      <button onclick="showPLTab('myPL')" class="bg-white/20 text-white px-4 py-2 rounded hover:bg-white/30">내
        플레이리스트</button>
      <button onclick="showPLTab('likedPL')" class="bg-white/20 text-white px-4 py-2 rounded hover:bg-white/30">좋아요한
        플레이리스트</button>
    </div>

    <!-- 내가 만든 플레이리스트 -->
    <div id="myPL" class="pl-tab">
      <ul class="space-y-2">

        {% for playlist in my_playlists %}
        <li class="bg-gray-200/20 p-3 rounded text-white hover:bg-white/30">
          <a href="{% url 'playlist_detail' playlist_id=playlist.id %}" class="block w-full h-full">
            🎵 {{ playlist.title }}
          </a>
        </li>
        {% empty %}
        <li class="text-white">아직 저장된 플레이리스트가 없습니다.</li>
        {% endfor %}

      </ul>
    </div>


    <!-- 좋아요한 플레이리스트 -->
    <div id="likedPL" class="pl-tab hidden">
      <ul class="space-y-2">

        <li class="bg-gray-200/20 p-3 rounded text-white hover:bg-white/30">
          <a href="{% url 'playlist_detail' playlist_id=3 %}" class="block w-full h-full">
            ❤️ Liked Playlist A
          </a>
        </li>
        <li class="bg-gray-200/20 p-3 rounded text-white hover:bg-white/30">
          <a href="{% url 'playlist_detail' playlist_id=4 %}" class="block w-full h-full">
            ❤️ Liked Playlist B
          </a>
        </li>
      </ul>
    </div>

  </div>
</div>
</div>